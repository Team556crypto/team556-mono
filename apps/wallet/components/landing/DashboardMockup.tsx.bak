import React from 'react';
import { View, StyleSheet, Platform, Image } from 'react-native';
import { Text } from '@repo/ui';
import { Colors } from '@/constants/Colors';
import { Feather } from '@expo/vector-icons';
import LogoSvg from '@/assets/images/logo.svg';
import SolanaSvg from '@/assets/images/solana.svg';

const DashboardMockup: React.FC = () => {
  return (
    <View style={styles.mockupContainer}>  
      {/* Desktop Dashboard */}
      <View style={styles.desktopMockup}>
        {/* Browser Window Controls */}
        <View style={styles.browserControls}>
          <View style={[styles.browserDot, { backgroundColor: '#FF5F56' }]} />
          <View style={[styles.browserDot, { backgroundColor: '#FFBD2E' }]} />
          <View style={[styles.browserDot, { backgroundColor: '#27C93F' }]} />
          <Text style={styles.browserTitle}>Team556 Dashboard</Text>
        </View>

        {/* Dashboard Content */}
        <View style={styles.dashboardContent}>
          {/* User Profile Section */}
          <View style={styles.profileSection}>
            <View style={styles.avatarCircle}>
              <Text style={styles.avatarText}>JS</Text>
            </View>
            <View style={styles.profileInfo}>
              <Text style={styles.profileName}>Joe's Safe</Text>
            </View>
          </View>

          {/* Portfolio Value Section */}
          <View style={styles.portfolioSection}>
            <Text style={styles.portfolioLabel}>Portfolio Value</Text>
            <Text style={styles.portfolioValue}>$1,245.80</Text>
            <View style={styles.portfolioChange}>
              <Feather name="arrow-up-right" size={14} color={Colors.success} />
              <Text style={styles.portfolioChangeText}>2.4% today</Text>
            </View>
          </View>

          {/* Token List Section */}
          <View style={styles.tokenListContainer}>
            <View style={styles.tokenListHeader}>
              <Text style={styles.tokenListTitle}>Your Assets</Text>
              <Feather name="plus-circle" size={18} color={Colors.textSecondary} />
            </View>

            {/* SOL Token Card */}
            <View style={styles.tokenCard}>
              <View style={styles.tokenIconContainer}>
                {Platform.OS === 'web' ? (
                  <SolanaSvg width={28} height={28} />
                ) : (
                  <Image 
                    source={require('@/assets/images/solana.svg')} 
                    style={{ width: 28, height: 28 }} 
                  />
                )}
              </View>
              <View style={styles.tokenInfo}>
                <Text style={styles.tokenName}>Solana</Text>
                <Text style={styles.tokenTicker}>SOL</Text>
              </View>
              <View style={styles.tokenValue}>
                <Text style={styles.tokenAmount}>2.45</Text>
                <Text style={styles.tokenPrice}>$136.42</Text>
              </View>
            </View>

            {/* Team556 Token Card */}
            <View style={styles.tokenCard}>
              <View style={[styles.tokenIconContainer, styles.team556IconContainer]}>
                {Platform.OS === 'web' ? (
                  <LogoSvg width={28} height={28} />
                ) : (
                  <Image 
                    source={require('@/assets/images/logo.svg')} 
                    style={{ width: 28, height: 28 }} 
                  />
                )}
              </View>
              <View style={styles.tokenInfo}>
                <Text style={styles.tokenName}>Team556</Text>
                <Text style={styles.tokenTicker}>T556</Text>
              </View>
              <View style={styles.tokenValue}>
                <Text style={styles.tokenAmount}>556.00</Text>
                <Text style={styles.tokenPrice}>$0.72</Text>
              </View>
            </View>
          </View>

          {/* Recent Activity Section */}
          <View style={styles.activityContainer}>
            <View style={styles.activityHeader}>
              <Text style={styles.activityTitle}>Recent Activity</Text>
              <Text style={styles.viewAllText}>View All</Text>
            </View>
            
            {/* SOL Transaction */}
            <View style={styles.activityCard}>
              <View style={styles.activityIconContainer}>
                {Platform.OS === 'web' ? (
                  <SolanaSvg width={20} height={20} />
                ) : (
                  <Image 
                    source={require('@/assets/images/solana.svg')} 
                    style={{ width: 20, height: 20 }} 
                  />
                )}
              </View>
              <View style={styles.activityInfo}>
                <Text style={styles.activityName}>Received SOL</Text>
                <Text style={styles.activityTime}>12m ago</Text>
              </View>
              <View style={styles.activityAmount}>
                <Text style={styles.activityAmountText}>+0.5 SOL</Text>
                <Text style={styles.activityAmountValue}>$68.21</Text>
              </View>
            </View>
            
            {/* Team556 Transaction */}
            <View style={styles.activityCard}>
              <View style={[styles.activityIconContainer, styles.team556ActivityIconContainer]}>
                {Platform.OS === 'web' ? (
                  <LogoSvg width={20} height={20} />
                ) : (
                  <Image 
                    source={require('@/assets/images/logo.svg')} 
                    style={{ width: 20, height: 20 }} 
                  />
                )}
              </View>
              <View style={styles.activityInfo}>
                <Text style={styles.activityName}>Purchased Team556</Text>
                <Text style={styles.activityTime}>2h ago</Text>
              </View>
              <View style={styles.activityAmount}>
                <Text style={styles.activityAmountText}>+100 T556</Text>
                <Text style={styles.activityAmountValue}>$72.00</Text>
              </View>
            </View>
          </View>
        </View>
      </View>

      {/* Mobile Phone Mockup with AR-15 Content */}
      <View style={styles.mobileMockup}>
        {/* AR-15 Content - Using image with clip to hide the phone frame */}
        <View style={styles.ar15ContentContainer}>
          <Image 
            source={require('@/assets/images/mockups/ar15-content.png')} 
            style={styles.ar15Content} 
            resizeMode="cover" 
          />
        </View>
      </View>
    </View>
  );
};

const styles = StyleSheet.create({
  mockupContainer: {
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'center',
    position: 'relative',
    ...(Platform.OS === 'web' ? {
      perspective: '1000px',
    } : {}),
  },
  desktopMockup: {
    width: '100%',
    maxWidth: 500,
    backgroundColor: Colors.solanaDark,
    borderRadius: 16,
    overflow: 'hidden',
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 10 },
    shadowOpacity: 0.3,
    shadowRadius: 30,
    elevation: 15,
    marginBottom: 90, // Extra space for mobile mockup
  },
  container: {
    flex: 1,
    flexDirection: 'column',
    alignItems: 'center',
    justifyContent: 'center',
    width: '100%',
  },
  browserControls: {
    flexDirection: 'row',
    alignItems: 'center',
    padding: 12,
    backgroundColor: Colors.backgroundDarker || '#151515',
    borderBottomWidth: 1,
    borderBottomColor: Colors.backgroundSubtle || '#333',
  },
  browserDot: {
    width: 10,
    height: 10,
    borderRadius: 5,
    marginRight: 6,
  },
  browserTitle: {
    color: Colors.textSecondary || '#9BA1A6',
    fontSize: 12,
    marginLeft: 10,
  },
  dashboardContent: {
    flex: 1,
    backgroundColor: Colors.solanaNavy,
    borderBottomLeftRadius: 16,
    borderBottomRightRadius: 16,
    padding: 20,
  },
  profileSection: {
    flexDirection: 'row',
    alignItems: 'center',
    marginBottom: 24,
    borderBottomWidth: 1,
    borderBottomColor: 'rgba(255, 255, 255, 0.05)',
    paddingBottom: 20,
  },
  avatarCircle: {
    width: 50,
    height: 50,
    borderRadius: 25,
    backgroundColor: Colors.solanaPurple,
    alignItems: 'center',
    justifyContent: 'center',
    marginRight: 16,
  },
  avatarText: {
    color: '#fff',
    fontWeight: 'bold',
    fontSize: 16,
  },
  profileInfo: {},
  profileName: {
    color: Colors.text || '#ECEDEE',
    fontSize: 16,
    fontWeight: 'bold',
  },
  portfolioSection: {
    marginBottom: 24,
  },
  portfolioLabel: {
    color: Colors.textSecondary || '#9BA1A6',
    fontSize: 14,
  },
  portfolioValue: {
    color: Colors.text || '#ECEDEE',
    fontSize: 32,
    fontWeight: 'bold',
    marginVertical: 4,
  },
  portfolioChange: {
    flexDirection: 'row',
    alignItems: 'center',
  },
  portfolioChangeText: {
    color: Colors.solanaMain,
    fontSize: 14,
    marginLeft: 4,
  },
  tokenListContainer: {
    backgroundColor: Colors.backgroundDarker || '#151515',
    borderRadius: 16,
    padding: 16,
    marginBottom: 24,
  },
  tokenListHeader: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    marginBottom: 16,
  },
  tokenListTitle: {
    color: Colors.text || '#ECEDEE',
    fontSize: 16,
    fontWeight: '600',
  },
  tokenCard: {
    flexDirection: 'row',
    alignItems: 'center',
    padding: 12,
    backgroundColor: Colors.solanaDark,
    borderRadius: 10,
    marginBottom: 10,
    borderWidth: 1,
    borderColor: 'rgba(255, 255, 255, 0.05)',
  },
  tokenIconContainer: {
    width: 40,
    height: 40,
    borderRadius: 20,
    backgroundColor: 'rgba(20, 241, 149, 0.1)',
    alignItems: 'center',
    justifyContent: 'center',
    marginRight: 16,
  },
  team556IconContainer: {
    backgroundColor: 'rgba(153, 69, 255, 0.1)',
  },
  tokenInfo: {
    flex: 1,
  },
  tokenName: {
    color: Colors.text || '#ECEDEE',
    fontSize: 16,
    fontWeight: '500',
  },
  tokenTicker: {
    color: Colors.textSecondary || '#9BA1A6',
    fontSize: 12,
  },
  tokenValue: {
    alignItems: 'flex-end',
  },
  tokenAmount: {
    color: Colors.text || '#ECEDEE',
    fontSize: 16,
    fontWeight: '500',
  },
  tokenPrice: {
    color: Colors.textSecondary || '#9BA1A6',
    fontSize: 12,
  },
  activityContainer: {
    backgroundColor: Colors.backgroundDarker || '#151515',
    borderRadius: 16,
    padding: 16,
  },
  activityHeader: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    marginBottom: 16,
  },
  activityTitle: {
    color: Colors.text || '#ECEDEE',
    fontSize: 16,
    fontWeight: '600',
  },
  viewAllText: {
    color: Colors.secondary || '#14F195',
    fontSize: 12,
  },
  activityCard: {
    flexDirection: 'row',
    alignItems: 'center',
    padding: 12,
    backgroundColor: Colors.solanaDark,
    borderRadius: 10,
    marginBottom: 10,
    borderWidth: 1,
    borderColor: 'rgba(255, 255, 255, 0.05)',
  },
  activityIconContainer: {
    width: 36,
    height: 36,
    borderRadius: 18,
    backgroundColor: 'rgba(20, 241, 149, 0.1)',
    alignItems: 'center',
    justifyContent: 'center',
    marginRight: 16,
  },
  team556ActivityIconContainer: {
    backgroundColor: 'rgba(153, 69, 255, 0.1)',
  },
  activityInfo: {
    flex: 1,
  },
  activityName: {
    color: Colors.text || '#ECEDEE',
    fontSize: 14,
    fontWeight: '500',
  },
  activityTime: {
    color: Colors.textSecondary || '#9BA1A6',
    fontSize: 12,
  },
  activityAmount: {
    alignItems: 'flex-end',
  },
  activityAmountText: {
    color: Colors.success || '#4caf50',
    fontSize: 14,
    fontWeight: '500',
  },
  activityAmountValue: {
    color: Colors.textSecondary || '#9BA1A6',
    fontSize: 12,
  },
  mobileMockup: {
    position: 'absolute',
    right: 25,
    top: 65,
    width: 260,
    height: 520,
    backgroundColor: 'transparent',
    borderRadius: 40,
    overflow: 'hidden',
    borderWidth: 12,
    borderColor: Colors.solanaNavy,
    borderTopWidth: 20,
    borderBottomWidth: 20,
    shadowColor: Colors.solanaPurple,
    shadowOffset: { width: 0, height: 15 },
    shadowOpacity: 0.25,
    shadowRadius: 35,
    elevation: 20,
    zIndex: 5,
    ...(Platform.OS === 'web' ? {
      transform: 'rotate(4deg)',
      boxShadow: `0 20px 50px rgba(153, 69, 255, 0.2), 
                   0 0 15px rgba(153, 69, 255, 0.1), 
                   inset 0 0 15px rgba(153, 69, 255, 0.3)`,
    } : {}),
  },
  ar15ContentContainer: {
    flex: 1,
    backgroundColor: Colors.solanaDark,
    overflow: 'hidden',
    ...(Platform.OS === 'web' ? {
      borderRadius: 10,
    } : {}),
  },
  ar15Content: {
    width: '100%',
    height: '100%',
    // Scale up to hide phone frame from original screenshot
    transform: [{ scale: 1.25 }, { translateY: 10 }],
    opacity: 0.95, // Slight transparency for better theme integration
  },
  codeSnippet: {
    backgroundColor: Colors.solanaNavy,
    padding: 10,
    borderRadius: 8,
    marginTop: 8,
    width: '100%',
  },
  codeText: {
    color: Colors.text,
    fontSize: 10,
    fontFamily: Platform.OS === 'ios' ? 'Courier' : 'monospace',
  },
  screenshotImage: {
    width: '100%',
    height: '100%',
  },
  mobileHeader: {
    paddingTop: 10,
    paddingHorizontal: 15,
  },
  mobileStatusBar: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    marginBottom: 5,
  },
  mobileTime: {
    color: '#fff',
    fontSize: 12,
    fontWeight: '500',
  },
  mobileStatusIcons: {
    flexDirection: 'row',
    alignItems: 'center',
    gap: 4,
  },
  mobileSignalDot: {
    width: 4,
    height: 4,
    borderRadius: 2,
    backgroundColor: '#fff',
  },
  mobileContent: {
    flex: 1,
    backgroundColor: Colors.solanaNavy,
    borderTopLeftRadius: 20,
    borderTopRightRadius: 20,
    padding: 14,
    paddingTop: 16,
  },
  mobileScrollContent: {
    flex: 1,
    width: '100%',
  },
  mobileAppHeader: {
    flexDirection: 'row',
    alignItems: 'center',
    marginBottom: 14,
  },
  mobileAppTitle: {
    color: Colors.text || '#ECEDEE',
    fontSize: 18,
    fontWeight: 'bold',
    marginLeft: 8,
  },
  firearmCard: {
    backgroundColor: Colors.solanaDark,
    borderRadius: 16,
    padding: 12,
    marginBottom: 10,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.2,
    shadowRadius: 4,
    elevation: 3,
  },
  partialCard: {
    marginTop: -4,
    opacity: 0.6,
    height: 42,
    overflow: 'hidden',
  },
  firearmCardHeader: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    marginBottom: 10,
  },
  firearmName: {
    color: Colors.text || '#ECEDEE',
    fontSize: 16,
    fontWeight: 'bold',
  },
  firearmPrice: {
    color: Colors.solanaMain,
    fontSize: 16,
    fontWeight: 'bold',
  },
  firearmCardContent: {
    flexDirection: 'row',
    marginBottom: 10,
  },
  firearmCardLeftColumn: {
    flex: 1.2,
    marginRight: 8,
  },
  firearmCardRightColumn: {
    flex: 1,
  },
  // Mobile Firearm Detail Styles
  firearmDetailCard: {
    borderRadius: 12,
    backgroundColor: Colors.solanaDark,
    overflow: 'hidden',
  },
  firearmImageContainer: {
    height: 180,
    backgroundColor: '#2A2A2A',
    position: 'relative',
  },
  firearmTypeTag: {
    position: 'absolute',
    top: 10,
    left: 10,
    backgroundColor: Colors.solanaPurple,
    paddingVertical: 4,
    paddingHorizontal: 8,
    borderRadius: 4,
  },
  firearmTypeTagText: {
    color: Colors.text,
    fontSize: 12,
    fontWeight: '600',
  },
  firearmDetailHeader: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    paddingHorizontal: 12,
    paddingTop: 12,
  },
  firearmDetailName: {
    color: Colors.text,
    fontSize: 18,
    fontWeight: 'bold',
  },
  editButtonContainer: {
    flexDirection: 'row',
    alignItems: 'center',
  },
  editText: {
    color: Colors.solanaPurpleLight,
    fontSize: 14,
    marginLeft: 4,
  },
  firearmDetailCalibur: {
    color: Colors.textSecondary,
    fontSize: 14,
    paddingHorizontal: 12,
    marginBottom: 12,
  },
  infoSection: {
    paddingHorizontal: 12,
    paddingVertical: 10,
    backgroundColor: Colors.solanaDark,
    borderTopWidth: 1,
    borderTopColor: 'rgba(255, 255, 255, 0.05)',
  },
  infoRow: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    paddingVertical: 6,
  },
  infoLabel: {
    color: Colors.textSecondary,
    fontSize: 14,
  },
  infoValue: {
    color: Colors.text,
    fontSize: 14,
    fontWeight: '500',
  },
  sectionHeader: {
    backgroundColor: Colors.solanaNavy,
    paddingHorizontal: 12,
    paddingVertical: 8,
  },
  sectionHeaderText: {
    color: Colors.text,
    fontSize: 16,
    fontWeight: 'bold',
  },
  firearmTag: {
    backgroundColor: 'rgba(153, 69, 255, 0.1)',
    paddingVertical: 2,
    paddingHorizontal: 6,
    borderRadius: 4,
    alignSelf: 'flex-start',
    marginBottom: 8,
  },
  firearmTagCompact: {
    backgroundColor: 'rgba(153, 69, 255, 0.1)',
    paddingVertical: 2,
    paddingHorizontal: 6,
    borderRadius: 4,
    alignSelf: 'flex-start',
  },
  firearmTagText: {
    color: Colors.text || '#ECEDEE',
    fontSize: 12,
    fontWeight: '500',
  },
  firearmDetailGroup: {
    marginBottom: 5,
  },
  firearmDetailLabel: {
    color: Colors.textSecondary || '#9BA1A6',
    fontSize: 9,
    marginBottom: 2,
  },
  firearmDetailValue: {
    color: Colors.text || '#ECEDEE',
    fontSize: 11,
  },
  firearmCardActions: {
    flexDirection: 'row',
    justifyContent: 'space-between',
  },
  firearmActionButton: {
    backgroundColor: Colors.solanaBackground,
    paddingVertical: 6,
    paddingHorizontal: 8,
    borderRadius: 6,
    alignItems: 'center',
    justifyContent: 'center',
    flex: 1,
    marginHorizontal: 2,
  },
  editButton: {
    backgroundColor: Colors.solanaBackground,
  },
  sellButton: {
    backgroundColor: Colors.solanaMain,
  },
  deleteButton: {
    backgroundColor: '#5A2828',
  },
  firearmActionText: {
    color: Colors.text || '#ECEDEE',
    fontSize: 10,
    fontWeight: '500',
  },
  // Mobile-specific styles for AR-15 page
  purpleLogoContainer: {
    width: 28,
    height: 28,
    borderRadius: 14,
    backgroundColor: 'rgba(153, 69, 255, 0.15)',
    alignItems: 'center',
    justifyContent: 'center',
    marginRight: 8,
  },
  digitalArmoryTitle: {
    color: Colors.text,
    fontSize: 16,
    fontWeight: '600',
  },
  rifleCardContainer: {
    flex: 1,
    borderRadius: 12,
    overflow: 'hidden',
    backgroundColor: Colors.solanaDark,
  },
  rifleImageContainer: {
    height: 180,
    backgroundColor: '#2A2A2A',
    position: 'relative',
  },
  rifleTag: {
    position: 'absolute',
    top: 10,
    left: 10,
    backgroundColor: Colors.solanaPurple,
    paddingVertical: 4,
    paddingHorizontal: 8,
    borderRadius: 4,
  },
  rifleTagText: {
    color: Colors.text,
    fontSize: 12,
    fontWeight: '600',
  },
  rifleTitleRow: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    paddingHorizontal: 12,
    paddingTop: 12,
  },
  rifleTitle: {
    color: Colors.text,
    fontSize: 18,
    fontWeight: 'bold',
  },
  editContainer: {
    flexDirection: 'row',
    alignItems: 'center',
  },
  rifleCaliberText: {
    color: Colors.textSecondary,
    fontSize: 14,
    paddingHorizontal: 12,
    marginBottom: 12,
  },
  rifleInfoContainer: {
    paddingHorizontal: 12,
    paddingVertical: 8,
    backgroundColor: Colors.solanaDark,
    borderTopWidth: 1,
    borderTopColor: 'rgba(255, 255, 255, 0.05)',
  },
  rifleInfoRow: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    paddingVertical: 6,
  },

  // Footer navigation elements
  mobileNav: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    backgroundColor: Colors.solanaDark,
    paddingVertical: 8,
    borderTopWidth: 1,
    borderTopColor: 'rgba(255,255,255,0.05)',
  },
  mobileNavItem: {
    alignItems: 'center',
  },
  mobileNavText: {
    color: Colors.textSecondary || '#9BA1A6',
    fontSize: 10,
    marginTop: 4,
  },
  mobileNavActive: {
    color: Colors.solanaMain,
  },
  mobileHomeIndicator: {
    width: 40,
    height: 5,
    backgroundColor: '#ffffff',
    borderRadius: 3,
    alignSelf: 'center',
    marginBottom: 8,
    marginTop: 4,
  },
});

export default DashboardMockup;
